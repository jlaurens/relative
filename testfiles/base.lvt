\input{regression-test.tex}
\documentclass{minimal}
\usepackage {relative}
\RLTVSetUp {
  names = {
    myPart,
    mySection,
    mySubsection,
    mySubsubsection,
    myParagraph,
    mySubparagraph
  },
  base = mySection
}
\input{input/customize}
\input{input/expect}
\begin{document}
\START
\ExplSyntaxOn
\cs_new:Npn \myRLTVBaseSaved {2}
\cs_new:Npn \myRLTVBaseExpected {2}
\cs_new:Npn \myTest #1 {
  \cs_set:Npx \myRLTVBaseSaved { #1 }
  \RLTVSetBase { #1 }
  \XPCTIntCompare{
    lhs = \RLTVBase,
    rhs = \myRLTVBaseSaved,
    relation = {=}
  }
  \cs_set:Npx \myRLTVBaseExpected { \RLTVBase }
\iow_term:x {****~base~level:~\myRLTVBaseSaved}
  \input{input/base.tex}
  \XPCTIntCompare{
    lhs = \RLTVBase,
    rhs = \myRLTVBaseSaved,
    relation = {=}
  }
}
\ExplSyntaxOff
\myTest{1}
\myTest{2}
\myTest{3}
\myTest{4}
\myTest{5}
\myTest{6}
\ExplSyntaxOn
\cs_set:Npn \myTest #1 #2 {
  \cs_set:Npx \myRLTVBaseSaved { #2 }
  \RLTVSetBase { #1 }
  \XPCTIntCompare{
    lhs = \RLTVBase,
    rhs = \myRLTVBaseSaved,
    relation = {=}
  }
  \cs_set:Npx \myRLTVBaseExpected { \RLTVBase }
\iow_term:x {****~\myRLTVBaseSaved}
  \input{input/base.tex}
  \XPCTIntCompare{
    lhs = \RLTVBase,
    rhs = \myRLTVBaseSaved,
    relation = {=}
  }
}
\ExplSyntaxOff
\myTest{myPart}{1}
\myTest{mySection}{2}
\myTest{mySubsection}{3}
\myTest{mySubsubsection}{4}
\myTest{myParagraph}{5}
\myTest{mySubparagraph}{6}
\ExplSyntaxOn
\cs_set:Npn \myTest #1 {
  \cs_set:Npx \myRLTVBaseSaved { \RLTVBase }
  \RLTVSetBaseOfFile { #1 } { input/base.tex } % do not forget the extension
  \XPCTIntCompare{
    lhs = \RLTVBase,
    rhs = \myRLTVBaseSaved,
    relation = {=}
  }
  \cs_set:Npx \myRLTVBaseExpected { #1 }
\iow_term:x {****~base~expected:~\myRLTVBaseExpected}
  \input{input/base.tex}
  \XPCTIntCompare{
    lhs = \RLTVBase,
    rhs = \myRLTVBaseSaved,
    relation = {=}
  }
}
\ExplSyntaxOff
\myTest{1}
\myTest{2}
\myTest{3}
\myTest{4}
\myTest{5}
\myTest{6}
\end{document}
